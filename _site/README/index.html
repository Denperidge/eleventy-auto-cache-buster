<h1>Eleventy-Auto-Cache-Buster</h1>
<p>An Eleventy content-hash based cache buster, not requiring any filters or code changes aside from adding the plugin in <code>.eleventy.js</code>!</p>
<p>Turn...</p>
<pre><code class="language-html">&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;/favicon.ico&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;/stylesheet.css&quot;&gt;
</code></pre>
<p>Into...</p>
<pre><code class="language-html">&lt;link rel=&quot;icon&quot; type=&quot;image/x-icon&quot; href=&quot;/favicon.ico?v=542610a0404a5b8a2f5459c0fc5b9691&quot;&gt;
&lt;link rel=&quot;stylesheet&quot; href=&quot;/stylesheet.css?v=c9ca3e51cf7edc4c86c5fef68361957c&quot;&gt;
</code></pre>
<h2>How-to</h2>
<h3>Getting started</h3>
<ol>
<li>
<p>Install the plugin</p>
<ul>
<li>Yarn: <code>yarn add -D eleventy-auto-cache-buster</code></li>
<li>Npm: <code>npm install --save-dev eleventy-auto-cache-buster</code></li>
</ul>
</li>
<li>
<p>Enable the plugin</p>
<pre><code class="language-js">// .eleventy.js

const eleventyAutoCacheBuster = require(&quot;eleventy-auto-cache-buster&quot;);

// Alternatively, you can use ESM
import eleventyAutoCacheBuster from &quot;eleventy-auto-cache-buster&quot;;

module.exports = function (eleventyConfig) {
    eleventyConfig.addPlugin(eleventyAutoCacheBuster);
    // ...
}
</code></pre>
</li>
<li>
<p>That's it! No further changes are required.</p>
</li>
</ol>
<h3>Changing options</h3>
<pre><code class="language-js">// .eleventy.js
const eleventyAutoCacheBuster = require(&quot;eleventy-auto-cache-buster&quot;);

module.exports = function (eleventyConfig) {
    eleventyConfig.addPlugin(eleventyAutoCacheBuster, {
        enableLogging: true,  // Whether to enable eleventy-auto-cache-buster logging.
        hashTruncate: 0,  // Desired substring length of the hash. Set to 0 or lower to disable truncating
        globstring: &quot;**/*.ico&quot;,  // What glob string is used to locate assets.
        hashAlgorithm: &quot;sha1&quot;,  // What hash method to pass to the hash function. See Node.js' crypto.createHash documentation.
        hashFunction: function (content) { return &quot;example&quot; }  // What function to run to calculate hashes. Overrides hashAlgorithm.
    });
    // ...
}
</code></pre>
<h2>License</h2>
<p>This project is licensed under the <a href="LICENSE">MIT License</a>.</p>
